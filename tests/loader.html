<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>

<!-- Note to developers: Grunt will run these tests in a webkit-based browser
    (like safari or chrome). If you don't have grunt, and/or want to test in other
    browsers, here is the easiest way:
       (1) Change "../crafty.js" to "../crafty-local.js" (in the HTML head below).
       (2) Open this file in a browser to run the tests.
             ...However, browser security settings may keep it from working.
       -- To run the tests in firefox: First you need to go to about:config in firefox, and
             switch "security.fileuri.strict_origin_policy" to false. [This only changes the
             security settings when firefox opens an HTML file saved on your computer; it does
             not affect your security when you are browsing the internet.]
       -- To run the tests in chrome: You need to pass a flag when opening chrome.
             For example, in Linux, you would run this command in a Linux terminal:
             chromium-browser /path/to/core.html --allow-file-access-from-files
 -->

<head>
  <script src="./lib/jquery.min.js"></script>
  <link rel="stylesheet" href="./lib/qunit.css" type="text/css" media="screen" />
  <script type="text/javascript" src="./lib/qunit.js"></script>
  <script type="text/javascript" src="../crafty.js"></script>

<script>

$(document).ready(function() {
  Crafty.init(500,500);

  module('LOADER');

  asyncTest('assets loading', function() {
    expect(1);

    var onload;

    Crafty.load(['assets/100x100.png'], function() {
      ok(typeof onload !== 'undefined' && onload.src.match('assets/100x100.png'), '100x100.png has been loaded');
      start();
    }, function(data) {
      onload = data;
    });
  });
});
</script>

</head>
<body>
<h1 id="qunit-header">Crafty: Loader</h1>
<h2 id="qunit-banner"></h2>
<div id="qunit-testrunner-toolbar"></div>
<h2 id="qunit-userAgent"></h2>
<ol id="qunit-tests"></ol>
<div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>
